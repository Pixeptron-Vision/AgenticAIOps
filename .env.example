# ================================================================
# LLMOps Agent - Environment Configuration Example
# ================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env
# ================================================================

# ----------------------------------------------------------------
# AWS Configuration
# ----------------------------------------------------------------
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=your-account-id
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
AWS_DEFAULT_REGION=us-east-1

# ----------------------------------------------------------------
# AWS IAM Roles
# ----------------------------------------------------------------
SAGEMAKER_EXECUTION_ROLE_ARN=arn:aws:iam::YOUR_ACCOUNT:role/llmops-sagemaker-execution-role
LAMBDA_EXECUTION_ROLE_ARN=arn:aws:iam::YOUR_ACCOUNT:role/llmops-lambda-execution-role
BEDROCK_AGENT_ROLE_ARN=arn:aws:iam::YOUR_ACCOUNT:role/llmops-bedrock-agent-role

# ----------------------------------------------------------------
# S3 Bucket Configuration
# ----------------------------------------------------------------
S3_BUCKET_DATASETS=llmops-agent-datasets
S3_BUCKET_MODELS=llmops-agent-models
S3_BUCKET_ARTIFACTS=llmops-agent-artifacts

S3_PREFIX_RAW_DATASETS=raw/
S3_PREFIX_PROCESSED_DATASETS=processed/
S3_PREFIX_DVC_CACHE=.dvc/cache/
S3_PREFIX_CHECKPOINTS=checkpoints/
S3_PREFIX_FINAL_MODELS=final/
S3_PREFIX_MLFLOW_ARTIFACTS=mlflow/
S3_PREFIX_LOGS=logs/
S3_PREFIX_EVALUATION_RESULTS=evaluation/
S3_PREFIX_MODEL_CARDS=model-cards/

# ----------------------------------------------------------------
# DynamoDB Tables
# ----------------------------------------------------------------
DYNAMODB_TABLE_JOBS=llmops-jobs
DYNAMODB_TABLE_SESSIONS=llmops-sessions
DYNAMODB_TABLE_MODELS=llmops-models

# ----------------------------------------------------------------
# Amazon Bedrock Configuration
# ----------------------------------------------------------------
BEDROCK_MODEL_ID=anthropic.claude-3-5-sonnet-20241022-v2:0
BEDROCK_MODEL_REGION=us-east-1
BEDROCK_AGENT_ID=
BEDROCK_AGENT_ALIAS_ID=
BEDROCK_MAX_TOKENS=4096
BEDROCK_TEMPERATURE=0.7
BEDROCK_TOP_P=0.9

# ----------------------------------------------------------------
# Amazon SageMaker Configuration
# ----------------------------------------------------------------
SAGEMAKER_INSTANCE_TYPE=ml.g5.xlarge
SAGEMAKER_INSTANCE_COUNT=1
SAGEMAKER_TRANSFORMERS_VERSION=4.37
SAGEMAKER_PYTORCH_VERSION=2.1
SAGEMAKER_PYTHON_VERSION=py310
SAGEMAKER_MAX_RUNTIME_SECONDS=7200
SAGEMAKER_VOLUME_SIZE_GB=30

# ----------------------------------------------------------------
# MLflow Configuration
# ----------------------------------------------------------------
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=llmops-ner-cier
MLFLOW_ARTIFACT_LOCATION=s3://llmops-agent-artifacts/mlflow/
MLFLOW_TRACKING_USERNAME=
MLFLOW_TRACKING_PASSWORD=

# ----------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
API_KEY_ENABLED=false
API_KEY=your-api-key-here
SESSION_SECRET_KEY=your-secret-key-here-use-openssl-rand-hex-32
SESSION_TIMEOUT_HOURS=24

# ----------------------------------------------------------------
# Training Defaults
# ----------------------------------------------------------------
DEFAULT_LEARNING_RATE=2e-5
DEFAULT_BATCH_SIZE=16
DEFAULT_NUM_EPOCHS=3
DEFAULT_WARMUP_STEPS=500
DEFAULT_USE_PEFT=true
DEFAULT_LORA_R=8
DEFAULT_LORA_ALPHA=16
DEFAULT_LORA_DROPOUT=0.1
DEFAULT_LORA_TARGET_MODULES=query,value

# ----------------------------------------------------------------
# Model Registry Configuration
# ----------------------------------------------------------------
MODEL_REGISTRY_CSV_PATH=./huggingface_trending_model_metrics.csv
HUGGINGFACE_TOKEN=
HUGGINGFACE_CACHE_DIR=~/.cache/huggingface

# ----------------------------------------------------------------
# Budget & Cost Configuration
# ----------------------------------------------------------------
DEFAULT_SESSION_BUDGET_USD=10.0
TOTAL_BUDGET_CAP_USD=100.0
ENABLE_COST_TRACKING=true
COST_ALERT_THRESHOLD_PERCENT=80

# AWS Pricing (update periodically)
COST_SAGEMAKER_ML_G5_XLARGE=1.21
COST_SAGEMAKER_ML_G4DN_XLARGE=0.74
COST_SAGEMAKER_ML_P3_2XLARGE=3.83
COST_BEDROCK_INPUT_PER_1K_TOKENS=0.003
COST_BEDROCK_OUTPUT_PER_1K_TOKENS=0.015
COST_S3_STORAGE_PER_GB_MONTH=0.023
COST_DYNAMODB_WRITE_PER_MILLION=1.25
COST_DYNAMODB_READ_PER_MILLION=0.25

# ----------------------------------------------------------------
# Data Pipeline Configuration
# ----------------------------------------------------------------
DEFAULT_DATASET_ID=DFKI-SLT/ciER
DEFAULT_DATASET_SUBSET_SIZE=2000
DEFAULT_TRAIN_TEST_SPLIT=0.8
TOKENIZER_MAX_LENGTH=512
TOKENIZER_TRUNCATION=true
TOKENIZER_PADDING=max_length

# ----------------------------------------------------------------
# Monitoring & Observability
# ----------------------------------------------------------------
CLOUDWATCH_NAMESPACE=LLMOpsAgent
CLOUDWATCH_LOG_GROUP=/aws/llmops-agent
CLOUDWATCH_RETENTION_DAYS=7
ENABLE_CLOUDWATCH_METRICS=true
METRICS_PUBLISH_INTERVAL_SECONDS=60

# ----------------------------------------------------------------
# SSE (Server-Sent Events) Configuration
# ----------------------------------------------------------------
SSE_HEARTBEAT_INTERVAL_SECONDS=30
SSE_RETRY_TIMEOUT_MS=3000
SSE_MAX_CLIENTS=100

# ----------------------------------------------------------------
# Retry & Error Handling
# ----------------------------------------------------------------
MAX_RETRIES=3
RETRY_BACKOFF_FACTOR=2
REQUEST_TIMEOUT_SECONDS=30

# ----------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------
FEATURE_HYBRID_ROUTING=false
FEATURE_ON_PREM_AGENTS=false
FEATURE_SPOT_INSTANCES=false
FEATURE_HYPERPARAMETER_TUNING=false
FEATURE_MODEL_COMPRESSION=false

# ----------------------------------------------------------------
# Development & Testing
# ----------------------------------------------------------------
MOCK_BEDROCK=false
MOCK_SAGEMAKER=false
MOCK_S3=false
MOCK_DYNAMODB=false
TEST_DATASET_SIZE=100
TEST_TRAINING_EPOCHS=1
TEST_SKIP_UPLOAD=false

# ----------------------------------------------------------------
# On-Premises Configuration (Future - Phase 2)
# ----------------------------------------------------------------
ON_PREM_ENABLED=false
ON_PREM_K8S_ENDPOINT=
ON_PREM_MINIO_ENDPOINT=
ON_PREM_VLLM_ENDPOINT=http://localhost:8001
ON_PREM_GPU_COUNT=4
ON_PREM_GPU_TYPE=RTX_6000_ADA

# ----------------------------------------------------------------
# Frontend Configuration
# ----------------------------------------------------------------
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_API_TIMEOUT=30000
NEXT_PUBLIC_SSE_URL=http://localhost:8000/api/agent/stream
